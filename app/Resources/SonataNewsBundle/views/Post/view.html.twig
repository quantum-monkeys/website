{% extends 'AppBundle::base.html.twig' %}

{% block body %}
    <div class="container">
        {% block sonata_page_breadcrumb %}
            <div class="row-fluid clearfix">
                {{ sonata_block_render_event('breadcrumb', { 'context': 'news_post', 'post': post, 'current_uri': app.request.requestUri }) }}
            </div>
        {% endblock %}

        <div class="row blogpost">
            <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8">
                <div class="blog-img-detail">
                    {% media post.image, 'wide' with {
                        class: 'img-responsive'
                    } %}
                </div>
                <div class="blogs">
                    <div class="blog-detail-share blogs"><!--blog-detail-share-->
                        <ul class="col-xs-12 col-sm-12">
                            <li class="col-xs-6 col-sm-1 col-md-1 col-lg-1">
                                <i class="fa fa-comments" aria-hidden="true"></i><span> {{ post.commentsCount }}</span>
                            </li>
                            <li class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                                Tags:
                                {% for tag in post.tags %}
                                    <a href="{{ url('sonata_news_tag', { 'tag': tag.slug } ) }}">{{ tag.name }}</a>
                                {% else %}
                                    No tags
                                {% endfor %}
                            </li>
                            <li class="col-xs-6 col-sm-3 col-md-3 col-lg-3">
                                <i class="fa fa-calendar" aria-hidden="true"></i>
                                <span>{{ post.publicationDateStart|localizeddate('short', 'none') }}</span>
                            </li>
                            <li class="col-xs-6 col-sm-4 col-md-4 col-lg-4 author">
                                <i class="fa fa-pencil" aria-hidden="true"></i> {{ post.author.firstname }} {{ post.author.lastname }}
                            </li>
                        </ul>
                    </div>
                    <!--End-->
                </div>
                <!--End-->
                <div class="blog-title">
                    <h3>{{ post.title }}</h3>
                </div>
                <!--End-->
                <div class="blog-details-content">
                    {{ post.content|raw }}
                </div>
                <!--End-->
                <div class="blog-detail-share"><!--blog-detail-share-->
                    <ul>
                        <li><span>Share &#58;</span></li>
                        <li><a href=""><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
                        <li><a href=""><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
                        <li><a href=""><i class="fa fa-google-plus" aria-hidden="true"></i></a></li>
                        <li><a href=""><i class="fa fa-envelope" aria-hidden="true"></i></a></li>
                    </ul>
                </div>

                {% render(controller('SonataNewsBundle:Post:comments', {'postId': post.id})) %}

                {% if post.iscommentable %}
                    {% render(controller('SonataNewsBundle:Post:addCommentForm', {
                        'postId': post.id,
                        'form': form
                    })) %}
                {% else %}
                    <div>
                        {{ 'message_comments_are_closed'|trans({}, 'SonataNewsBundle') }}
                    </div>
                {% endif %}
            </div>
        </div>
    </div>
{% endblock %}
